var handleLkForm;import{el,ev,findParent,log}from"/js/ksk-lib.js";import{handleInputTel,divHelperInsert}from"/js/ago-lib.js";import{ws,ws_handlers}from"/js/ws.js";(handleLkForm=function(e,t){var n,l,i,r,s;return r=el(t),l=el(e),i=el("input",l),n=el("#burger-menu-button"),s=e.split(" ")[0],ev(r,"click",function(e){l.classList.contains("show")?setTimeout(function(){l.style.display="none",i.value=""},250):l.style.display="flex",setTimeout(function(){l.classList.toggle("show")},0)}),ev(document,"click",function(e){Boolean(findParent(e.target,l)||e.target===l||findParent(e.target,n)||findParent(e.target,r))||(l.classList.remove("show"),setTimeout(function(){l.style.display="none",i.value=""},250))}),ev(l,"submit",function(e){var t;e.preventDefault(),t=i.value.replace(/[\+_\(\)\s-]/g,"").replace(/^7/,"8"),/^8\d{10}$/.test(t)?(ws.send(JSON.stringify({type:"login",data:{form:s,number:t}})),i.value=""):divHelperInsert(l,"lk-client-helper",null,"8"===t?"Введите номер!":"Некорректный номер!")}),ws_handlers.set("login-"+s,function(e){var t;(t="access"===e?null:"Нет такого в базе")?divHelperInsert(l,"lk-client-helper",null,t):log(e)}),handleInputTel(i)})("header .lk-client>form","header .lk-client>div:first-child");export var navTopInit=function(){handleLkForm("#nav-top .lk-client>form","#nav-top .lk-client>div:first-child")};