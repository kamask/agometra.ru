var loadImg;import{log,newEl,ev,el}from"/js/ksk-lib.js";import{initData}from"/js/store.js";loadImg=function(e){var s;return(s=newEl("picture")).innerHTML=`<source srcset="${e.url.replace(/\.jpg$/,"_w360.webp")}" media="(max-width: 480px)" type="image/webp">\n<source srcset="${e.url.replace(/\.jpg$/,"_w360.jpg")}" media="(max-width: 480px)">\n<source srcset="${e.url.replace(/\.jpg$/,"_w800.webp")}" type="image/webp">\n<img src="${e.url.replace(/\.jpg$/,"_w800.jpg")}" alt="${e.desc}" />`,s},async function(){var e,s,a,l,t,n,i;({gallery_agometra:i}=await initData()),i.sort(function(e,s){return e.id-s.id}),n=0,s=el("#gallery_agometra"),(t=newEl("div")).className="slider",s.append(t),e=[],i.forEach(function(s,a){var l,i;(i=newEl("div")).className=a===n?"slide show":"slide",(l=newEl("span")).textContent=s.desc,i.append(l),i.append(loadImg(s)),t.append(i),e.push(i)}),(a=newEl("span")).className="next",a.textContent="Next",s.append(a),(l=newEl("span")).className="prev",l.textContent="Prev",s.append(l),l.style.display="none",ev(a,"click",function(){n<e.length-1&&(e[n].classList.remove("show"),e[n].classList.add("hide"),e[++n].classList.add("show"),n===e.length-1&&(this.style.display="none"),"none"===l.style.display&&(l.style.display="block"))}),ev(l,"click",function(){n>0&&(e[n--].classList.remove("show"),e[n].classList.remove("hide"),e[n].classList.add("show"),0===n&&(this.style.display="none"),"none"===a.style.display&&(a.style.display="block"))})}();